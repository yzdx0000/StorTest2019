#-*-coding:utf-8 -*
#!/usr/bin/python
import os
import xml.dom.minidom
import getoutputpath_lyz
def get_xml():
    output = getoutputpath_lyz.getoutputpath()
    fileuploadidallpath = os.path.join(output, 'fileuploadid')
    f = open(fileuploadidallpath)
    lines = f.readlines()
    count = 0
    for line in lines:
        if line.startswith('<?xml'):
            break
        else:
            count = count + 1
    xml_lst = lines[count:]
    f.close()
    xml_string = ''.join(xml_lst)
    #print xml_string
    return xml_string

def analyze_xml():
    xml_string = get_xml()

    xml_info = xml.dom.minidom.parseString(xml_string)
    UploadId_info = xml_info.getElementsByTagName('UploadId')[0]
    UploadId=UploadId_info.firstChild.nodeValue
    return UploadId

if __name__ == '__main__':
    id=analyze_xml()
    print id
